<script>
    function update(id){

        document.getElementById('board-update').addEventListener('submit', function(e) {
            e.preventDefault();

            let button = document.getElementById('board-update-submit');
            button.innerHTML = 'Creating <i class="fas fa-spinner fa-spin"></i>';
            button.disabled = true;        

            let form = document.getElementById('board-update');
            // transform form into json
            let formData = new FormData(form);
            let jsonData = {};
            formData.forEach((value, key) => {
                jsonData[key] = value;
            });        

            let id = jsonData[board_id]
            axios.post('/board/'+ id, jsonData)
            .then(function (response) {
                console.log(response);

                // close modal vanilla js
                document.getElementById('staticBackdropCloseButton').click();

                // empty form
                document.getElementById('board-update').reset();

                Swal.fire(
                    'Success!',
                    response.data.message,
                    'success'
                ).then(function() {
                    location.reload();
                });
                
            }).catch(function (error) {
                console.log(error);
            }).then(function () {
                button.innerHTML = 'Create';
                button.disabled = false;
            });

        });
    }

</script>